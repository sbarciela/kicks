<!DOCTYPE html>
<html lang="en">

<%- include("../partials/head")%>

<body>
    <%- include("../partials/header")%>

    <main>
        <h2 class="title">Registrarme</h2>
        <form action="/users/register" id='formRegister' method="POST" enctype="multipart/form-data" class="form">
            <h3 class="title-register">Datos personales</h3>
            <div class="control-formulario1">
                <label for="firstName">Nombre completo:</label>
                <input type="text" name="firstName" id="firstName" placeholder="Nombre..."
                    class="control2 <%= locals.errors && errors.firstName? "is-invalid":null  %>"
                    value=<%= locals.old && old.firstName? old.firstName:null  %>>

                <% if (locals.errors && errors.firstName) { %>
                <p class="alert2"><%=errors.firstName.msg%></p>

                <% } %>
                <div id="firstNameError" class="alert"></div>
            </div>

            <div class="control-formulario1">
                <input type="text" name="lastName" id="lastName" placeholder="Apellido..."
                    class="control2 <%= locals.errors && errors.lastName? "is-invalid":null  %>"
                    value=<%= locals.old && old.lastName? old.lastName:null  %>>

                <% if (locals.errors && errors.lastName) { %>
                <p class="alert2"><%=errors.lastName.msg%></p>

                <% } %>
                <div id="lastNameError" class="alert"></div>
            </div>
            <div class="control-formulario1">
                <label for="fecha-nacimiento">Fecha de nacimiento:</label>
                <input type="date" name="birthday" id="birthday"
                    class="ingreso <%= locals.errors && errors.birthday? "is-invalid":null  %>"
                    value=<%= locals.old && old.birthday? old.birthday:null  %>>

                <% if (locals.errors && errors.birthday) { %>
                <p class="alert2"><%=errors.birthday.msg%></p>
                <% } %>
                <div id="birthdayError" class="alert"></div>
            </div>

            <div>
                <label for="gender" class="negrita">Genero</label>
                <br>
                <% genders.forEach(gender => { %>
                <input type="radio" name="gender" id="gender" value="<%= gender.id %>"
                    <%= locals.old && old.gender== gender.id  ? "checked":null  %>><%= gender.name %>
                <% }) %>
                <% if (locals.errors && errors.gender) { %>
                <p class="alert2"><%=errors.gender.msg%></p>
                <% } %>
                <div id="genderError" class="alert"></div>
            </div>

            <h3 class="title-register1">Sobre tu cuenta</h3>
            <div class="control-formulario1">
                <label for="email">Email:</label>
                <input type="text" name="email" id="email" placeholder="Email..."
                    class="control2 <%= locals.errors && errors.email? "is-invalid":null  %>"
                    value=<%= locals.old && old.email? old.email:null  %>>

                <% if (locals.errors && errors.email) { %>
                <p class="alert2"><%=errors.email.msg%></p>
                <% } %>
                <div id="emailError" class="alert"></div>
            </div>
            <div class="control-formulario1">
                <label for="password">Contraseña:</label>
                <input type="password" name="password" id="password" placeholder="Contraseña..."
                    class="control2 <%= locals.errors && errors.password? "is-invalid":null  %>" />
                <% if (locals.errors && errors.password) { %>
                <p class="alert2"><%=errors.password.msg%></p>
                <% } %>
                <div id="passwordError" class="alert"></div>
                <!--<i class="fas fa-eye-slash"></i> -->
            </div>
            <div class="control-formulario1">
                <input type="password" name="checkPassword" id="checkPassword" placeholder="Confirmar contraseña..."
                    class="control2 <%= locals.errors && errors.checkPassword? "is-invalid":null  %>" />
                <% if (locals.errors && errors.checkPassword) { %>
                <p class="alert2"><%=errors.checkPassword.msg%></p>
                <% } %>
                <!--<i class="fas fa-eye-slash"></i> -->
                <div id="checkPasswordError" class="alert"></div>
            </div>
            <div class="control-formulario1">
                <label for="image">Imagen del usuario:</label>
                <input type="file" name="image" id="image">

                <% if (locals.errors && errors.image) { %>
                <p class="alert2"><%=errors.image.msg%></p>
                <% } %>
                <div id="imageUserError" class="alert"></div>
            </div>
            <hr>
            <div class="bottom-register">
                <input type="checkbox" name="terms" value="terms" id="terms" required>Acepto las politicas de
                privacidad
                y los terminos y condiciones
            </div>
            <div class="bottom-register">
                <input type="checkbox" name="offers" value="offers" id="offers">Deseo recibir ofertas por email
            </div>

            <div class="register-buttons">
                <button type="submit" class="submit-button1" id="submitButton">Crear cuenta</button>
            </div>
            <br />
        </form>

        <div class="modal-container" id="suscripcion">
            <h3>¡Debes aceptar los terminos y condiciones!</h3>
            <button type="button" class="button-edit" id="cerrarSuscripcion">Cerrar</button>
        </div>


    </main>

    <%- include("../partials/footer")%>
    <script src="/js/validationsUserCreate.js"></script>

</body>

</html>